name: create-label
on:
  push:
    branches:
      - main
env:
  EXTRA_PATH: ./extras/createLabels/
jobs:
  build:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: üì¶ INSTALL NODE LTS
        uses: actions/setup-node@v3
        with:
          node-version: lts/*
      - name: üöõ CARGANDO DEPENDENCIAS
        run: |
          cd $EXTRA_PATH
          npm init -y
          npm i isomorphic-fetch
      - name: üèó CREANDO ETIQUETAS
        run: |
          cd $EXTRA_PATH
          node ./index.js ${{ secrets.GITHUB_TOKEN }} ${{ github.repository_owner }} ${{ github.repository }}
      - name: ‚öôÔ∏è CONFIGURANDO GIT
        run: |
          git config --local user.name "GitActionsBot"
          git config --local user.email "gitbot@git.com"
      - name: ‚úèÔ∏è BORRANDO EXTRAS
        run: |
          git rm -r ${{ EXTRA_PATH }}
          git status
